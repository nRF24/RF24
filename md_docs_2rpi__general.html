<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Optimized high speed nRF24L01+ driver class documentation: Linux General/Raspberry Pi</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Optimized high speed nRF24L01+ driver class documentation<span id="projectnumber">&#160;v1.5.0</span>
   </div>
   <div id="projectbrief">TMRh20 2020 - Optimized fork of the nRF24L01+ driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Linux General/Raspberry Pi</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md261">Potential PreConfiguration</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md262">Build Options</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md263">Connections and Pin Configuration</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md264">Linux kernel (SPIDEV driver) and the GPIO chip number</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md265">General</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md266">MRAA Constructor</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md267">SPI_DEV Constructor</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md268">Pins</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#autotoc_md269">brief history of RF24 library lineage</a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md260"></a></p>
<p><a class="el" href="classRF24.html" title="Driver class for nRF24L01(+) 2.4GHz Wireless Transceiver.">RF24</a> supports a variety of Linux based devices via various drivers. Some boards like RPi can utilize multiple methods to drive the GPIO and SPI functionality.</p>
<h1><a class="anchor" id="autotoc_md261"></a>
Potential PreConfiguration</h1>
<p>If SPI is not already enabled, load it on boot:</p>
<div class="fragment"><div class="line">sudo raspi-config</div>
</div><!-- fragment --><ol type="1">
<li>Update the tool via the menu as required</li>
<li>Select <b>Advanced</b> and <b>enable the SPI kernel module</b></li>
<li>Update other software and libraries <div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get upgrade</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md262"></a>
Build Options</h1>
<p>The default build on Raspberry Pi utilizes the included <b>BCM2835</b> driver from <a href="http://www.airspayce.com/mikem/bcm2835">the BCM2835 Library</a></p>
<ol type="1">
<li>See <a class="el" href="md_docs_2linux__install.html">the Linux section for automated installation</a>.</li>
<li>Manual install: <div class="fragment"><div class="line">make</div>
<div class="line">sudo make install</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md263"></a>
Connections and Pin Configuration</h1>
<p>Using pin 15(GPIO22) for CE, pin 24(GPIO8 commonly labeled as CE0) for CSN</p>
<p>Can use any available SPI BUS for CSN.</p>
<p>In general, use</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classRF24.html">RF24</a> radio(&lt;ce_pin&gt;, &lt;a&gt;*10+&lt;b&gt;);</div>
<div class="ttc" id="aclassRF24_html"><div class="ttname"><a href="classRF24.html">RF24</a></div><div class="ttdoc">Driver class for nRF24L01(+) 2.4GHz Wireless Transceiver.</div><div class="ttdef"><b>Definition</b> <a href="RF24_8h_source.html#l00159">RF24.h:160</a></div></div>
</div><!-- fragment --><p>for proper constructor to address the correct spi device at /dev/spidev&lt;a&gt;.&lt;b&gt;</p>
<p>Choose any GPIO output pin for radio CE pin.</p>
<dl class="section warning"><dt>Warning</dt><dd>The pin numbers may be different for certain systems. In this library's examples, we use the BCM pin numbers for BroadCom chips such as those used on all Raspberry Pi models. <br  />
<br  />
 For Raspberry Pi clones, such as Orange Pi or Banana Pi, defer to the pin numbers described in their corresponding documentation/manual. <br  />
<br  />
 Hint: If libgpiod is installed (not required for this library), then you can use the included <a href="https://libgpiod.readthedocs.io/en/latest/gpio_tools.html">CLI tools shipped with libgpiod</a> to gleam system-specific details.</dd></dl>
<h2><a class="anchor" id="autotoc_md264"></a>
Linux kernel (SPIDEV driver) and the GPIO chip number</h2>
<p>This <a class="el" href="classRF24.html" title="Driver class for nRF24L01(+) 2.4GHz Wireless Transceiver.">RF24</a> library, as of v1.4.9, uses the Linux kernel's Character Device API to interface with GPIO pins (AKA "lines" in kernel docs). Previous versions used the deprecated "sys fs" interface.</p>
<p>By default, this library attempts to use pins exposed via <code>/dev/gpiochip0</code>. Some systems have multiple public-facing GPIO chips integrated (ie nVidia Jetson series). If your system exposes the desired GPIO pins via a different chip (ie <code>/dev/gpiochip4</code>), then the <code>RF24_LINUX_GPIO_CHIP</code> can be set to the correct value when compiling the library.</p>
<div class="fragment"><div class="line">cmake .. -DRF24_LINUX_GPIO_CHIP=&quot;/dev/gpiochip4&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md265"></a>
General</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classRF24.html">RF24</a> radio(22, 0);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md266"></a>
MRAA Constructor</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classRF24.html">RF24</a> radio(15, 0);</div>
</div><!-- fragment --><p>See <a href="http://iotdk.intel.com/docs/master/mraa/rasppi.html">the MRAA documentation for Raspberry Pi support</a></p>
<h2><a class="anchor" id="autotoc_md267"></a>
SPI_DEV Constructor</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classRF24.html">RF24</a> radio(22, 0);</div>
</div><!-- fragment --><p>See <a href="https://www.raspberrypi.com/documentation/computers/os.html#gpio-and-the-40-pin-header">the Raspberry Pi documentation about the GPIO pins</a></p>
<h2><a class="anchor" id="autotoc_md268"></a>
Pins</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">PIN   </th><th class="markdownTableHeadNone">NRF24L01   </th><th class="markdownTableHeadNone">RPI   </th><th class="markdownTableHeadNone">RPi -P1 Connector    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">GND   </td><td class="markdownTableBodyNone">rpi-gnd   </td><td class="markdownTableBodyNone">(25)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">VCC   </td><td class="markdownTableBodyNone">rpi-3v3   </td><td class="markdownTableBodyNone">(17)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">CE   </td><td class="markdownTableBodyNone">rpi-gpio22   </td><td class="markdownTableBodyNone">(15)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">CSN   </td><td class="markdownTableBodyNone">rpi-gpio8   </td><td class="markdownTableBodyNone">(24)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">SCK   </td><td class="markdownTableBodyNone">rpi-sclk   </td><td class="markdownTableBodyNone">(23)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">MOSI   </td><td class="markdownTableBodyNone">rpi-mosi   </td><td class="markdownTableBodyNone">(19)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">MISO   </td><td class="markdownTableBodyNone">rpi-miso   </td><td class="markdownTableBodyNone">(21)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">IRQ   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone">-   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md269"></a>
brief history of RF24 library lineage</h1>
<p>Based on the arduino lib from <a href="maniacbug@ymail.com">J. Coliz</a>, the library was berryfied by <a href="purinda@gmail.com">Purinda Gunasekara</a> then forked from github <a href="https://github.com/stanleyseow/RF24">stanleyseow/RF24</a> to <a href="https://github.com/jscrane/RF24-rpi">jscrane/RF24-rpi</a></p>
<p>Network lib also based on <a href="https://github.com/farconada/RF24Network">farconada/RF24Network</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 4 2025 for Optimized high speed nRF24L01+ driver class documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
